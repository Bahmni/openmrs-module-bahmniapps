<div class="dashboard-chronic-treatment-section" id="regimen">
    <h2 ng-if="!isClickable()" class="section-title">{{section | titleTranslate}}</h2>

    <div ng-if="isClickable()" class="dashboard-chronic-treatment-section">
        <h2 ng-dialog="../common/displaycontrols/chronicTreatmentChart/views/allChronicTreatmentChart.html"
            ng-dialog-controller="AllChronicTreatmentChartController"
            ng-dialog-data="{{dialogData}}"
            ng-dialog-class="ngdialog-theme-default ng-dialog-all-details-page"
            class="section-title has-link">
            <span class="title-link"> {{section | titleTranslate}} </span>
            <i class="fa fa-external-link"></i>
        </h2>
    </div>

    <section bindonce="regimen" class="block chronic-treatment dashboard-section">
        <table>
            <th ng-if="isMonthNumberRequired()">Month</th>
            <th>Date</th>
            <th ng-repeat="header in regimen.headers">{{header.shortName || header.name}}</th>
            <tr ng-repeat="row in regimen.rows">
                <td ng-if="isMonthNumberRequired()">{{row.month}}</td>
                <td>{{row.date | bahmniDate}}</td>
                <td ng-repeat="header in regimen.headers" ng-class="{'stopped': row.drugs[header.name] == 'Stop'}">
                    <span ng-if="row.drugs[header.name] == 'Stop'">{{row.drugs[header.name]}}</span>
                    <span ng-if="row.drugs[header.name] != 'Stop'">{{ row.drugs[header.name] | number:0 }}</span>
                </td>
            </tr>
        </table>
    </section>

</div>
